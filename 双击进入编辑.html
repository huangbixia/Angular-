<!DOCTYPE>
<html ng-app="test">
<head>
<script src="http://lib.sinaapp.com/js/angular.js/angular-1.2.19/angular.min.js"></script>
<script>
   angular.module('test',[]).controller('testController',function($scope){
    
	 $scope.data = [{id:1,name:'huang',age:22},{id:2,name:'zhao',age:22},{id:3,name:'zhou',age:20},{id:4,name:'sun',age:22}];
	 
	 $scope.replace = function($event,dataObj,name){
		
	    var obj = $event.target;
		var table1 = document.getElementsByClassName("table1")[0];
		var allInput = table1.getElementsByTagName("input");
		var len = allInput.length;
		
		if(len!=0){
		    for(var i=0;i<len;i++){
				var tempSpan = document.createElement("span");
				 tempSpan.innerHTML = allInput[i].value;
			     allInput[i].parentNode.replaceChild(tempSpan,allInput[i]);
			}
		}
		
						
		//转换成输入框
	    var input = document.createElement("input");
		input.value = obj.innerHTML;
		obj.parentNode.replaceChild(input,obj);
		
		input.onblur = function(){
		   obj.innerHTML = input.value;
		   dataObj[name] = angular.isNumber(dataObj[name])?parseInt(input.value):input.value;
		   input.parentNode.replaceChild(obj,input);
		   console.table($scope.data);
		};
		
	 };
   });
</script>
<style>
   table td{
      width:200px;
	  border:1px solid #ccc;
   }
   table td span{
      display:block;
	  border:1px solid red;
	  width:100%;
	  height:100%;
	  text-align:center;
   }
   table{
      border-collapse:collapse;
   }
</style>
</head>
<body ng-controller="testController">
    <table class="table1">
	   <tr ng-repeat="item in data">
	      <td>{{item.id}}</td>
		  <td ng-dblclick="replace($event,item,'name')"><span>{{item.name}}</span></td>
		  <td ng-dblclick="replace($event,item,'age')"><span>{{item.age}}</span></td>
	   </tr>
	</table>
</body>
</html>